<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>

<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Icona -->
  <link rel="icon" href="/images/iconaLogin.PNG" type="image/png">
  <link rel="apple-touch-icon" href="  /images/iconaLogin.PNG">

<!-- Bootstrap CSS -->
<link th:rel="stylesheet"
	th:href="@{/webjars/bootstrap/5.3.3/css/bootstrap.min.css}" />
	
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
<link rel="Stylesheet" href="/css/style.css">

<title>SpringBlog - Registrazione </title>
</head>
<body class="background-custom">
	<nav class="navbar navbar-expand-lg bg-body-tertiary">
		  <div class="container-fluid">
			<a class="navbar-brand" th:href="@{/SpringBlog/preview}">
			      <img 	src="/images/iconaLogin.PNG" alt="Logo" width="30" height="30" class="d-inline-block align-text-top">
			      <span class="fs-5">SpringBlog</span>
			</a>
				<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
			    	<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarNav">
					<ul class="navbar-nav me-auto mb-2 mb-lg-0">
						<li class="nav-item"><a class="nav-link p-2" th:href="@{/login}">Login</a></li>
						<li class="nav-item"><a class="nav-link p-2 disable" th:href="@{/utente/create}" >Registrati</a></li>
					</ul>    					
				</div>
		  </div>
		</nav>
	<div class="d-flex justify-content-center align-items-center ">
		<div class="new-user-container my-5">
			<div class="d-flex justify-content-between align-items-center p-2">
				<h1>Registrazione nuovo Utente</h1>
				<button class="button-custom">
					<a 	th:href="@{/SpringBlog/preview}" style="color: black;"><i class="bi bi-x-square"></i></a>
				</button>			
			</div>
			<div>
				<form id="user-form"
						th:object="${utente}" 
						th:action="@{/utente/create}"
						method="post"
						enctype="multipart/form-data">
						<div class="row d-flex justify-content-evenly">
							<div class="col-6 mb-3">
								<label for="userInputSurname" class="form-label ps-3">Cognome </label>
								<input type="text" class="form-control login-input" 
									id="userInputSurname" 
									th:field="*{cognome}" th:errorClass="is-invalid">
								
									<div th:if="${#fields.hasErrors('cognome')}" class="invalid-feedback">
										<ul>
											<li th:each="err : ${#fields.errors('cognome')}" 
												th:text="${err}">
											</li>
										</ul>
									</div>
								
							</div>
							<div class="col-6 mb-3">
								<label for="userInputName" class="form-label ps-3">Nome</label>
								<input type="text" class="form-control login-input" 
									id="userInputName" 
									th:field="*{nome}" th:errorClass="is-invalid">
									
									<div th:if="${#fields.hasErrors('nome')}" class="invalid-feedback">
										<ul>
											<li th:each="err : ${#fields.errors('nome')}" 
												th:text="${err}">
											</li>
										</ul>
									</div>
									
							</div>
						</div>
						<div class="row d-flex justify-content-evenly">
							<div class="col mb-3">
								<label for="userInputMail" class="form-label ps-3">Email</label>
								<input type="email" class="form-control login-input" 
									id="userInputMail" 
									th:field="*{email}" th:errorClass="is-invalid">
									
									<div th:if="${#fields.hasErrors('email')}" class="invalid-feedback">
										<ul>
											<li th:each="err : ${#fields.errors('email')}" 
												th:text="${err}">
											</li>
										</ul>
									</div>
									
							</div>
						</div>
						
							<div class="col mb-3">
								<label for="userInputPassword" class="form-label ps-3">Password</label>
								<input type="text" class="form-control login-input" 
									id="userInputPassword" 
									th:field="*{password}" th:errorClass="is-invalid">
									
									<div th:if="${#fields.hasErrors('password')}" class="invalid-feedback">
										<ul>
											<li th:each="err : ${#fields.errors('password')}" 
												th:text="${err}">
											</li>
										</ul>
									</div>
							
							</div>
							<div class="col mb-3">
									<label for="userInputUrl" class="form-label ps-3">Immagine profilo</label>
									<input id="userInputUrl" type="file" class="form-control login-input" name="file">											
							</div>
				
						<div class="d-flex justify-content-end gap-3 p-4">
							<button type="submit" class="button-custom mb-3">Salva</button>
						</div>
				</form>
				
			</div>
		</div>
		
	</div>

	<script th:src="@{/webjars/bootstrap/5.3.3/js/bootstrap.bundle.min.js}"></script>

</body>
</html>